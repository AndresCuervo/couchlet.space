<!DOCTYPE html>
<html xmlns="//www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
    <head>

        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />

        <title>05.17.2017</title>
        <link rel='stylesheet' href='//fonts.googleapis.com/css?family=Open+Sans:400,300,600' type='text/css'>
        <link rel="stylesheet" href="https://andrescuervo.github.io/twentyfourseven/libraries/normalize.3.0.1.css" />
        
        
        

        
        
            <link rel="stylesheet" href="../css/three.css">
        
        <link rel="shortcut icon" href= "https://andrescuervo.github.io/twentyfourseven/favicon.png" type="image/x-icon">
    </head>
    <body class="li-body">


<script src="../js/three.js"></script>
<script src="../js/Detector.js"></script>
<script src="../js/stats.min.js"></script>
<script src="../js/loaders/PLYLoader.js"></script>

<script type="text/javascript" src="../js/utils/dat.gui.min.js"></script>

<script src="../js/three.js"></script>

<script src="../js/Detector.js"></script>
<script src="../js/controls/DeviceOrientationControls.js"></script>
<script src="../js/controls/OrbitControls.js"></script>
<script src="../js/effects/StereoEffect.js"></script>
<script src="../js/loaders/PLYLoader.js"></script>
<script src="../js/stats.min.js"></script>
<script src="../js/utils/dat.gui.min.js"></script>
<script src="../js/utils/orientation.js"></script>

<script id="vertexShader" type="x-shader/x-vertex">
    varying float depth;
    varying vec3 v_pos;
    uniform float center_x;
    uniform float center_y;
    uniform float time;

    void main() {
        
        float scale = (sin(time*0.2)+1.0)*.01 + .004;
        float height = 200.0;
        vec3 vertex = position;
        
        vertex.z += exp(-(pow((vertex.x-center_x)*scale, 2.0) + pow((vertex.y-center_y)*scale, 2.0))) * height;
        vec4 cs_pos = projectionMatrix * modelViewMatrix * vec4( vertex, 1.0 );
        depth = cs_pos.z * .001;
        
        v_pos = vertex;
        gl_Position = cs_pos;
    }
</script>

<script id="fragmentShader" type="x-shader/x-fragment">
    varying float depth;
    varying vec3 v_pos;
    uniform float time;
    
    void main() {
        float proportion = (sin(time*.01)+1.0)*2.5+5.0;
        float speed = 4.0;
        float shit = step(mod(v_pos.z+time*speed, proportion), 1.0);

        float c = shit;

        if (v_pos.z < 10.0){
            c = 0.0;
        }

        gl_FragColor = vec4(c,c,c,1.);

    }
</script>

<div id="container"></div>

<script src="../js/three.js"></script>
<script src="../js/controls/OrbitControls.js"></script>
<script src="../js/controls/DeviceOrientationControls.js"></script>
<script src="../js/Detector.js"></script>
<script src="../js/stats.min.js"></script>
<script src="../js/utils/dat.gui.min.js"></script>

<script src="../js/utils/noise.js"></script>
<script src="../js/TrackballControls.js"></script>
<script src="../js/postprocessing/EffectComposer.js"></script>
<script src="../js/postprocessing/RenderPass.js"></script>
<script src="../js/postprocessing/MaskPass.js"></script>
<script src="../js/postprocessing/ShaderPass.js"></script>
<script src="../js/shaders/CopyShader.js"></script>
<script src="../js/shaders/FXAAShader.js"></script>
<script src="../js/shaders/ConvolutionShader.js"></script>
<script src="../js/shaders/LuminosityHighPassShader.js"></script>
<script src="../js/postprocessing/UnrealBloomPass.js"></script>

<script id="vertexShader" type="x-shader/x-vertex">
    precision highp float;

    attribute vec3 instancePosition;
    attribute vec4 instanceQuaternion;
    attribute vec3 instanceScale;

    vec3 applyTRS( vec3 position, vec3 translation, vec4 quaternion, vec3 scale ) {

        position *= scale;
        position += 2.0 * cross( quaternion.xyz, cross( quaternion.xyz, position ) + quaternion.w * position );
        return position + translation;

    }

    attribute vec3 color;
    varying vec3 vColor;

    void main(){

        vColor = color;

        vec3 transformed = applyTRS( position.xyz, instancePosition, instanceQuaternion, instanceScale );
    
        transformed.y =200.0;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( transformed, 1.0 );

    }

</script>

<script id="fragmentShader" type="x-shader/x-fragment">

    precision highp float;
    varying vec3 vColor;

    void main() {

        gl_FragColor = vec4( vColor, 1.0 );

    }

</script>

<script src="../js/day7.js">
</script>

    <script type="text/javascript">
    <!--
    function toggle(id) {
        var e = document.getElementById(id);
        e.style.display == 'block' ? e.style.display = 'none' : e.style.display = 'block';
    }
    
    </script>
    
    </body>
</html>

